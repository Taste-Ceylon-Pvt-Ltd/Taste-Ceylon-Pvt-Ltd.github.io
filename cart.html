<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart ‚Äî Taste Ceylon | Your Cart</title>
    <meta name="description" content="Review your shopping cart and proceed to checkout for premium Ceylon cinnamon and authentic Sri Lankan spices.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Lato:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Header -->
    <header id="header">
        <div class="header-container">
            <a href="index.html" class="logo">
                <div class="logo-icon"></div>
                <div class="logo-text">Taste <span>Ceylon</span></div>
            </a>
            
            <nav>
                <a href="index.html">Home</a>
                <a href="shop.html">Shop</a>
                <a href="about.html">About</a>
                <a href="blog.html">Blog</a>
                <a href="contact.html">Contact</a>
            </nav>
            
            <div class="nav-icons">
                <button class="nav-icon" aria-label="Search" onclick="window.location.href='search.html'">
                    <svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
                </button>
                <button class="nav-icon" aria-label="Wishlist" onclick="window.location.href='wishlist.html'">
                    <svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
                </button>
                <button class="nav-icon" aria-label="Cart" onclick="window.location.href='cart.html'">
                    <svg viewBox="0 0 24 24"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
                    <span class="cart-count">0</span>
                </button>
            </div>
            
            <button class="mobile-menu-btn" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <!-- Mobile Navigation -->
    <div class="mobile-nav">
        <button class="mobile-nav-close" aria-label="Close menu">√ó</button>
        <a href="index.html">Home</a>
        <a href="shop.html">Shop</a>
        <a href="about.html">About</a>
        <a href="blog.html">Blog</a>
        <a href="contact.html">Contact</a>
    </div>

    <!-- Page Header -->
    <section class="page-header">
        <div class="page-header-content">
            <div class="breadcrumb">
                <a href="index.html">Home</a>
                <span>/</span>
                <span>Shopping Cart</span>
            </div>
            <h1>Shopping <span>Cart</span></h1>
            <p>Review your items and proceed to checkout.</p>
        </div>
    </section>

    <!-- Cart Section -->
    <section class="section section-white">
        <div class="cart-container">
            <div class="cart-items" id="cartItems">
                <!-- Cart Item 1 -->
                <div class="cart-item" data-id="1" data-price="24.99">
                    <div class="cart-item-image">ü™µ</div>
                    <div class="cart-item-details">
                        <div class="cart-item-category">Cinnamon Sticks</div>
                        <h3 class="cart-item-name">Alba Grade Ceylon Quills</h3>
                        <p class="cart-item-variant">Size: 100g | Grade: Alba</p>
                    </div>
                    <div class="cart-item-quantity">
                        <button class="quantity-btn minus" aria-label="Decrease quantity">‚àí</button>
                        <input type="number" value="2" min="1" max="99" class="quantity-input" aria-label="Quantity">
                        <button class="quantity-btn plus" aria-label="Increase quantity">+</button>
                    </div>
                    <div class="cart-item-price">$49.98</div>
                    <button class="cart-item-remove" aria-label="Remove item">
                        <svg viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                    </button>
                </div>

                <!-- Cart Item 2 -->
                <div class="cart-item" data-id="2" data-price="18.99">
                    <div class="cart-item-image">ü•Ñ</div>
                    <div class="cart-item-details">
                        <div class="cart-item-category">Ground Cinnamon</div>
                        <h3 class="cart-item-name">Organic Cinnamon Powder</h3>
                        <p class="cart-item-variant">Size: 200g | Organic Certified</p>
                    </div>
                    <div class="cart-item-quantity">
                        <button class="quantity-btn minus" aria-label="Decrease quantity">‚àí</button>
                        <input type="number" value="1" min="1" max="99" class="quantity-input" aria-label="Quantity">
                        <button class="quantity-btn plus" aria-label="Increase quantity">+</button>
                    </div>
                    <div class="cart-item-price">$18.99</div>
                    <button class="cart-item-remove" aria-label="Remove item">
                        <svg viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                    </button>
                </div>

                <!-- Cart Item 3 -->
                <div class="cart-item" data-id="3" data-price="42.99">
                    <div class="cart-item-image">ü´ô</div>
                    <div class="cart-item-details">
                        <div class="cart-item-category">Spice Collection</div>
                        <h3 class="cart-item-name">Ceylon Spice Trio Set</h3>
                        <p class="cart-item-variant">Includes: Cinnamon, Pepper, Cloves</p>
                    </div>
                    <div class="cart-item-quantity">
                        <button class="quantity-btn minus" aria-label="Decrease quantity">‚àí</button>
                        <input type="number" value="1" min="1" max="99" class="quantity-input" aria-label="Quantity">
                        <button class="quantity-btn plus" aria-label="Increase quantity">+</button>
                    </div>
                    <div class="cart-item-price">$42.99</div>
                    <button class="cart-item-remove" aria-label="Remove item">
                        <svg viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                    </button>
                </div>
            </div>

            <!-- Empty Cart Message -->
            <div class="empty-cart" id="emptyCart" style="display: none;">
                <div class="empty-cart-icon">üõí</div>
                <h3>Your Cart is Empty</h3>
                <p>Looks like you haven't added any items to your cart yet.</p>
                <a href="shop.html" class="btn btn-primary">Start Shopping ‚Üí</a>
            </div>

            <!-- Cart Summary -->
            <div class="cart-summary" id="cartSummary">
                <h3>Order Summary</h3>
                
                <div class="summary-row">
                    <span>Subtotal (4 items)</span>
                    <span id="subtotal">$111.96</span>
                </div>
                
                <div class="summary-row">
                    <span>Shipping</span>
                    <span id="shipping">Calculated at checkout</span>
                </div>
                
                <div class="coupon-section">
                    <label for="couponCode">Have a coupon?</label>
                    <div class="coupon-input-group">
                        <input type="text" id="couponCode" placeholder="Enter code" class="form-input">
                        <button class="btn btn-secondary coupon-btn">Apply</button>
                    </div>
                </div>
                
                <div class="summary-row total">
                    <span>Total</span>
                    <span id="total">$111.96</span>
                </div>
                
                <a href="checkout.html" class="btn btn-primary checkout-btn">Proceed to Checkout ‚Üí</a>
                
                <div class="cart-features">
                    <div class="cart-feature">
                        <svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                        <span>Secure Checkout</span>
                    </div>
                    <div class="cart-feature">
                        <svg viewBox="0 0 24 24"><rect x="1" y="3" width="15" height="13" rx="2"/><path d="m16 8 5 3-5 3V8z"/></svg>
                        <span>Fast Shipping</span>
                    </div>
                    <div class="cart-feature">
                        <svg viewBox="0 0 24 24"><path d="M3 3h18v18H3zM12 8v8M8 12h8"/></svg>
                        <span>30-Day Returns</span>
                    </div>
                </div>
                
                <a href="shop.html" class="continue-shopping">‚Üê Continue Shopping</a>
            </div>
        </div>
    </section>

    <!-- Recommended Products -->
    <section class="section section-cream">
        <div class="container">
            <div class="section-header">
                <span class="section-label">You May Also Like</span>
                <h2 class="section-title">Recommended Products</h2>
            </div>
            
            <div class="products-grid" style="grid-template-columns: repeat(4, 1fr);">
                <!-- Product 1 -->
                <div class="product-card">
                    <div class="product-image">
                        üéÅ
                        <span class="product-badge" style="background: var(--gold); color: var(--charcoal);">Popular</span>
                        <div class="product-actions">
                            <button class="product-action-btn" aria-label="Add to wishlist">
                                <svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
                            </button>
                            <button class="product-action-btn" aria-label="Quick view">
                                <svg viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                            </button>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-category">Gift Pack</div>
                        <h3 class="product-name">Premium Gift Collection</h3>
                        <div class="product-rating">
                            <span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span>
                            <small>(156)</small>
                        </div>
                        <div class="product-price">
                            <span class="price">$89.99</span>
                            <button class="add-to-cart" aria-label="Add to cart">
                                <svg viewBox="0 0 24 24"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Product 2 -->
                <div class="product-card">
                    <div class="product-image">
                        ü™µ
                        <div class="product-actions">
                            <button class="product-action-btn" aria-label="Add to wishlist">
                                <svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
                            </button>
                            <button class="product-action-btn" aria-label="Quick view">
                                <svg viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                            </button>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-category">Cinnamon Sticks</div>
                        <h3 class="product-name">C5 Grade Cinnamon Quills</h3>
                        <div class="product-rating">
                            <span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span>
                            <small>(94)</small>
                        </div>
                        <div class="product-price">
                            <span class="price">$16.99</span>
                            <button class="add-to-cart" aria-label="Add to cart">
                                <svg viewBox="0 0 24 24"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Product 3 -->
                <div class="product-card">
                    <div class="product-image">
                        ü•Ñ
                        <div class="product-actions">
                            <button class="product-action-btn" aria-label="Add to wishlist">
                                <svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
                            </button>
                            <button class="product-action-btn" aria-label="Quick view">
                                <svg viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                            </button>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-category">Ground Cinnamon</div>
                        <h3 class="product-name">Premium Ground Ceylon</h3>
                        <div class="product-rating">
                            <span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span><span>‚òÜ</span>
                            <small>(73)</small>
                        </div>
                        <div class="product-price">
                            <span class="price">$14.99</span>
                            <button class="add-to-cart" aria-label="Add to cart">
                                <svg viewBox="0 0 24 24"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Product 4 -->
                <div class="product-card">
                    <div class="product-image">
                        ü´ô
                        <span class="product-badge" style="background: var(--burgundy);">Sale</span>
                        <div class="product-actions">
                            <button class="product-action-btn" aria-label="Add to wishlist">
                                <svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
                            </button>
                            <button class="product-action-btn" aria-label="Quick view">
                                <svg viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                            </button>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-category">Spice Collection</div>
                        <h3 class="product-name">Curry Spice Master Set</h3>
                        <div class="product-rating">
                            <span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span>
                            <small>(112)</small>
                        </div>
                        <div class="product-price">
                            <span class="price">$36.99<span class="price-old">$48.99</span></span>
                            <button class="add-to-cart" aria-label="Add to cart">
                                <svg viewBox="0 0 24 24"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <div class="logo-text" style="font-size: 1.75rem; margin-bottom: 1rem;">Taste <span style="color: var(--cinnamon-brown);">Ceylon</span></div>
                    <p>Bringing the authentic taste of Sri Lanka's finest cinnamon and spices to kitchens around the world. Quality, tradition, and flavor in every package.</p>
                    <div class="footer-social">
                        <a href="#" class="social-link" aria-label="Facebook">
                            <svg viewBox="0 0 24 24"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>
                        </a>
                        <a href="#" class="social-link" aria-label="Instagram">
                            <svg viewBox="0 0 24 24"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>
                        </a>
                        <a href="#" class="social-link" aria-label="Twitter">
                            <svg viewBox="0 0 24 24"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/></svg>
                        </a>
                        <a href="#" class="social-link" aria-label="Pinterest">
                            <svg viewBox="0 0 24 24"><path d="M12 0a12 12 0 0 0-4.37 23.17c-.1-.94-.19-2.38.04-3.41l1.38-5.87s-.35-.7-.35-1.74c0-1.63.95-2.85 2.12-2.85 1 0 1.49.75 1.49 1.66 0 1-.64 2.51-.98 3.9-.28 1.18.59 2.14 1.75 2.14 2.1 0 3.72-2.22 3.72-5.42 0-2.84-2.04-4.82-4.95-4.82-3.37 0-5.35 2.53-5.35 5.14 0 1.02.39 2.11.88 2.7a.35.35 0 0 1 .08.34l-.33 1.33c-.05.22-.17.27-.4.16-1.49-.69-2.42-2.87-2.42-4.62 0-3.76 2.73-7.21 7.87-7.21 4.13 0 7.35 2.95 7.35 6.88 0 4.11-2.59 7.42-6.19 7.42-1.21 0-2.35-.63-2.74-1.37l-.75 2.84c-.27 1.04-1 2.35-1.49 3.14A12 12 0 1 0 12 0z"/></svg>
                        </a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h4>Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="shop.html">Shop All</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="blog.html">Blog</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h4>Customer Care</h4>
                    <ul class="footer-links">
                        <li><a href="faq.html">FAQ</a></li>
                        <li><a href="shipping.html">Shipping Info</a></li>
                        <li><a href="returns.html">Returns Policy</a></li>
                        <li><a href="track-order.html">Track Order</a></li>
                        <li><a href="privacy.html">Privacy Policy</a></li>
                    </ul>
                </div>
                
                <div class="footer-column footer-contact">
                    <h4>Contact Us</h4>
                    <p>
                        <svg viewBox="0 0 24 24" fill="none"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
                        info@tasteceylon.lk
                    </p>
                    <p>
                        <svg viewBox="0 0 24 24" fill="none"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                        +94 11 234 5678
                    </p>
                    <p>
                        <svg viewBox="0 0 24 24" fill="none"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
                        Colombo, Sri Lanka
                    </p>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>¬© 2026 Taste Ceylon. All rights reserved. | TasteCeylon.lk</p>
                <div class="payment-methods">
                    <div class="payment-icon">VISA</div>
                    <div class="payment-icon">MC</div>
                    <div class="payment-icon">AMEX</div>
                    <div class="payment-icon">PP</div>
                </div>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script>
        // Cart functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Load cart from localStorage or use demo items
            loadCart();
            
            // Quantity controls
            document.querySelectorAll('.quantity-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const input = this.parentElement.querySelector('.quantity-input');
                    let value = parseInt(input.value);
                    
                    if (this.classList.contains('minus') && value > 1) {
                        input.value = value - 1;
                    } else if (this.classList.contains('plus') && value < 99) {
                        input.value = value + 1;
                    }
                    
                    updateItemPrice(this.closest('.cart-item'));
                    updateCartSummary();
                    saveCartState();
                });
            });
            
            // Direct quantity input
            document.querySelectorAll('.quantity-input').forEach(input => {
                input.addEventListener('change', function() {
                    let value = parseInt(this.value);
                    if (value < 1) this.value = 1;
                    if (value > 99) this.value = 99;
                    
                    updateItemPrice(this.closest('.cart-item'));
                    updateCartSummary();
                    saveCartState();
                });
            });
            
            // Remove item
            document.querySelectorAll('.cart-item-remove').forEach(btn => {
                btn.addEventListener('click', function() {
                    const item = this.closest('.cart-item');
                    item.style.opacity = '0';
                    item.style.transform = 'translateX(-20px)';
                    setTimeout(() => {
                        item.remove();
                        updateCartSummary();
                        saveCartState();
                        checkEmptyCart();
                    }, 300);
                });
            });
            
            // Coupon code
            const couponBtn = document.querySelector('.coupon-btn');
            if (couponBtn) {
                couponBtn.addEventListener('click', function() {
                    const code = document.getElementById('couponCode').value.trim().toUpperCase();
                    if (code === 'CEYLON10') {
                        if (typeof showNotification === 'function') {
                            showNotification('Coupon applied! 10% discount added.', 'success');
                        } else {
                            alert('Coupon applied! 10% discount added.');
                        }
                        applyCoupon(0.10);
                    } else if (code === 'FREESHIP') {
                        if (typeof showNotification === 'function') {
                            showNotification('Free shipping applied!', 'success');
                        } else {
                            alert('Free shipping applied!');
                        }
                    } else if (code) {
                        if (typeof showNotification === 'function') {
                            showNotification('Invalid coupon code. Please try again.', 'error');
                        } else {
                            alert('Invalid coupon code. Please try again.');
                        }
                    }
                });
            }
        });
        
        function loadCart() {
            // Check if there are items in the cart from localStorage
            if (typeof TasteCeylon !== 'undefined') {
                const storedCart = TasteCeylon.getCart();
                if (storedCart.length > 0) {
                    // Update cart display from localStorage
                    TasteCeylon.updateCartCount();
                }
            }
            updateCartSummary();
            checkEmptyCart();
        }
        
        function updateItemPrice(item) {
            const price = parseFloat(item.dataset.price);
            const quantity = parseInt(item.querySelector('.quantity-input').value);
            const total = (price * quantity).toFixed(2);
            item.querySelector('.cart-item-price').textContent = '$' + total;
        }
        
        function updateCartSummary() {
            const items = document.querySelectorAll('.cart-item');
            let subtotal = 0;
            let itemCount = 0;
            
            items.forEach(item => {
                const price = parseFloat(item.dataset.price);
                const quantity = parseInt(item.querySelector('.quantity-input').value);
                subtotal += price * quantity;
                itemCount += quantity;
            });
            
            const subtotalEl = document.getElementById('subtotal');
            const totalEl = document.getElementById('total');
            const summaryRow = document.querySelector('.summary-row span');
            
            if (subtotalEl) subtotalEl.textContent = '$' + subtotal.toFixed(2);
            if (totalEl) totalEl.textContent = '$' + subtotal.toFixed(2);
            if (summaryRow) summaryRow.textContent = 'Subtotal (' + itemCount + ' items)';
            
            // Update cart count in header
            document.querySelectorAll('.cart-count').forEach(el => {
                el.textContent = itemCount;
            });
        }
        
        function saveCartState() {
            // Save current cart state to localStorage
            const items = document.querySelectorAll('.cart-item');
            const cart = [];
            
            items.forEach(item => {
                cart.push({
                    id: item.dataset.id,
                    name: item.querySelector('.cart-item-name').textContent,
                    category: item.querySelector('.cart-item-category').textContent,
                    price: parseFloat(item.dataset.price),
                    quantity: parseInt(item.querySelector('.quantity-input').value),
                    emoji: item.querySelector('.cart-item-image').textContent.trim()
                });
            });
            
            if (typeof TasteCeylon !== 'undefined') {
                TasteCeylon.saveCart(cart);
            }
        }
        
        function applyCoupon(discount) {
            const totalEl = document.getElementById('total');
            if (totalEl) {
                const subtotal = parseFloat(document.getElementById('subtotal').textContent.replace('$', ''));
                const discountedTotal = subtotal * (1 - discount);
                totalEl.textContent = '$' + discountedTotal.toFixed(2);
            }
        }
        
        function checkEmptyCart() {
            const items = document.querySelectorAll('.cart-item');
            const cartItems = document.getElementById('cartItems');
            const cartSummary = document.getElementById('cartSummary');
            const emptyCart = document.getElementById('emptyCart');
            
            if (items.length === 0) {
                if (cartItems) cartItems.style.display = 'none';
                if (cartSummary) cartSummary.style.display = 'none';
                if (emptyCart) emptyCart.style.display = 'block';
            } else {
                if (cartItems) cartItems.style.display = 'block';
                if (cartSummary) cartSummary.style.display = 'block';
                if (emptyCart) emptyCart.style.display = 'none';
            }
        }
    </script>
</body>
</html>
